<html lang="ru"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ì–∏–¥–∏–∫ ‚Äî AI-–ø—Ä–æ–≤–æ–¥–Ω–∏–∫ –ø–æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</title>
    <style>
        /* ===== CSS –ü–ï–†–ï–ú–ï–ù–ù–´–ï ===== */
        :root {
            --primary-dark: #0F2854;
            --primary-blue: #1C4D8D;
            --primary-light: #4988C4;
            --primary-accent: #BDE8F5;
            --secondary-dark: #0A1D3A;
            --secondary-blue: #153A70;
            --white: #FFFFFF;
            --text-light: #FFFFFF;
            --text-muted: #BDE8F5;
            --text-dark: #0A1D3A;
            --success: #10B981;
            --warning: #F59E0B;
            --error: #EF4444;

            --gradient-primary: linear-gradient(135deg, #0F2854 0%, #1C4D8D 100%);
            --gradient-secondary: linear-gradient(135deg, #1C4D8D 0%, #4988C4 100%);
            --gradient-accent: linear-gradient(135deg, #4988C4 0%, #BDE8F5 100%);
            --gradient-hero: linear-gradient(135deg, #0F2854 0%, #1C4D8D 50%, #4988C4 100%);

            --shadow-sm: 0 2px 4px rgba(15, 40, 84, 0.1);
            --shadow-md: 0 4px 6px rgba(15, 40, 84, 0.15);
            --shadow-lg: 0 10px 15px rgba(15, 40, 84, 0.2);
            --shadow-xl: 0 20px 25px rgba(15, 40, 84, 0.25);

            --border-radius-sm: 8px;
            --border-radius-md: 12px;
            --border-radius-lg: 16px;
            --border-radius-xl: 20px;
            --border-radius-2xl: 24px;

            --transition-fast: 0.15s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
        }

        /* ===== –°–ë–†–û–° –°–¢–ò–õ–ï–ô ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.5;
            color: var(--text-light);
            background: var(--gradient-primary);
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 768px) {
            html {
                font-size: 14px;
            }
            
            body {
                line-height: 1.4;
            }
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        button, input, textarea, select {
            font-family: inherit;
            font-size: 1rem;
        }

        button {
            cursor: pointer;
            border: none;
            background: none;
            touch-action: manipulation;
        }

        input, textarea, select {
            font-size: inherit;
            border: none;
            outline: none;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        /* ===== –ê–ù–ò–ú–ê–¶–ò–ò ===== */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes shimmer {
            0% {
                background-position: -200% center;
            }
            100% {
                background-position: 200% center;
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-8px);
            }
        }

        @keyframes typingAnimation {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-6px);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* ===== –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò ===== */
        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0.75rem;
            min-height: 100vh;
        }

        /* –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 480px) {
            .app-container {
                padding: 0.5rem;
            }
        }

        /* –®–∞–ø–∫–∞ - –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è */
        .header {
            background: var(--primary-dark);
            padding: 1rem;
            border-radius: var(--border-radius-lg);
            margin-bottom: 1rem;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(189, 232, 245, 0.1);
            position: sticky;
            top: 0.5rem;
            z-index: 100;
            backdrop-filter: blur(10px);
            animation: slideInRight var(--transition-normal);
        }

        .header-content {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: transform var(--transition-normal);
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo::before {
            content: 'üó∫Ô∏è';
            font-size: 1.75rem;
            animation: bounce 2s infinite;
        }

        /* –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é */
        .mobile-menu-toggle {
            display: none;
            background: rgba(28, 77, 141, 0.8);
            border: 2px solid var(--primary-accent);
            color: var(--text-light);
            width: 44px;
            height: 44px;
            border-radius: var(--border-radius-md);
            align-items: center;
            justify-content: center;
            transition: all var(--transition-normal);
        }

        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: flex;
            }
            
            .nav {
                display: none;
                flex-direction: column;
                width: 100%;
                gap: 0.5rem;
            }
            
            .nav.active {
                display: flex;
            }
        }

        .nav {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .nav-button {
            background: rgba(28, 77, 141, 0.8);
            border: 2px solid var(--primary-accent);
            color: var(--text-light);
            padding: 0.625rem 1rem;
            border-radius: var(--border-radius-md);
            font-weight: 600;
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.375rem;
            position: relative;
            overflow: hidden;
            font-size: 0.9rem;
            min-height: 44px;
            min-width: 44px;
        }

        .nav-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }

        .nav-button:hover::before,
        .nav-button:active::before {
            left: 100%;
        }

        .nav-button:hover,
        .nav-button:active {
            background: var(--primary-blue);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
            border-color: var(--text-light);
        }

        .nav-button.active {
            background: var(--gradient-secondary);
            border-color: var(--text-light);
            box-shadow: 0 0 15px rgba(189, 232, 245, 0.3);
            animation: pulse 2s infinite;
        }

        /* –ú–æ–±–∏–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
        @media (max-width: 768px) {
            .nav-button {
                flex: 1;
                justify-content: center;
                padding: 0.75rem;
                font-size: 0.85rem;
            }
            
            .nav-button span {
                font-size: 1.1rem;
            }
        }

        /* –≠–∫—Ä–∞–Ω - –æ–±—â–∏–µ —Å—Ç–∏–ª–∏ */
        .screen {
            display: none;
            animation: fadeIn var(--transition-normal);
        }

        .screen.active {
            display: block;
        }

        /* –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" - –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è */
        .back-button {
            background: var(--primary-blue);
            color: var(--text-light);
            border: 2px solid var(--primary-accent);
            padding: 0.75rem 1.25rem;
            border-radius: var(--border-radius-md);
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all var(--transition-normal);
            animation: slideInLeft var(--transition-normal);
            min-height: 44px;
            min-width: 44px;
        }

        .back-button:hover {
            background: var(--primary-dark);
            transform: translateX(-3px);
            box-shadow: var(--shadow-md);
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ - –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è */
        .main-title {
            text-align: center;
            margin-bottom: 1.5rem;
            color: var(--text-light);
            font-size: 1.75rem;
            position: relative;
            display: inline-block;
            width: 100%;
            padding: 0 1rem;
        }

        .main-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: var(--primary-accent);
            border-radius: 2px;
        }

        @media (max-width: 768px) {
            .main-title {
                font-size: 1.5rem;
                margin-bottom: 1.25rem;
            }
        }

        /* ===== –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù ===== */
        .hero-section {
            background: var(--gradient-hero);
            padding: 2.5rem 1.5rem;
            border-radius: var(--border-radius-xl);
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 2px solid var(--primary-accent);
            animation: fadeIn 0.8s ease-out;
        }

        @media (max-width: 480px) {
            .hero-section {
                padding: 1.75rem 1rem;
                margin-bottom: 1.5rem;
            }
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(189, 232, 245, 0.15) 50%, transparent 70%);
            animation: shimmer 4s infinite linear;
        }

        .hero-title {
            font-size: 2.25rem;
            margin-bottom: 1rem;
            color: var(--text-light);
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            position: relative;
            animation: float 4s ease-in-out infinite;
            line-height: 1.2;
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 1.75rem;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 1.5rem;
                margin-bottom: 0.75rem;
            }
        }

        .hero-subtitle {
            font-size: 1.125rem;
            color: var(--text-muted);
            max-width: 800px;
            margin: 0 auto 1.5rem;
            line-height: 1.6;
            font-weight: 300;
        }

        @media (max-width: 480px) {
            .hero-subtitle {
                font-size: 1rem;
                line-height: 1.5;
            }
        }

        .feature-tags {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }

        .feature-tag {
            background: rgba(189, 232, 245, 0.2);
            color: var(--text-light);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.875rem;
            border: 1px solid var(--primary-accent);
            transition: all var(--transition-normal);
            animation: fadeIn 0.5s ease-out backwards;
            backdrop-filter: blur(10px);
        }

        .feature-tag:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            background: rgba(189, 232, 245, 0.3);
        }

        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ - –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
                margin: 1.5rem 0;
            }
        }

        .stat-card {
            background: var(--primary-dark);
            padding: 1.75rem 1.5rem;
            border-radius: var(--border-radius-lg);
            text-align: center;
            border: 2px solid var(--primary-accent);
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.5s ease-out backwards;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-accent);
        }

        .stat-card:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-xl);
            border-color: var(--text-light);
        }

        .stat-number {
            font-size: 2.75rem;
            font-weight: 800;
            color: var(--primary-accent);
            margin-bottom: 0.375rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        @media (max-width: 480px) {
            .stat-number {
                font-size: 2.25rem;
            }
        }

        .stat-label {
            font-size: 0.95rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç */
        .quick-start {
            text-align: center;
            margin-top: 2rem;
            padding: 2.5rem;
            background: rgba(10, 29, 58, 0.5);
            border-radius: var(--border-radius-xl);
            border: 2px solid var(--primary-accent);
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 480px) {
            .quick-start {
                padding: 1.75rem 1rem;
                margin-top: 1.5rem;
            }
        }

        .quick-start::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-accent);
        }

        .quick-start-title {
            margin-bottom: 1rem;
            color: var(--text-light);
            font-size: 1.75rem;
            font-weight: 700;
        }

        @media (max-width: 480px) {
            .quick-start-title {
                font-size: 1.5rem;
            }
        }

        .quick-start-description {
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto 1.75rem;
            font-size: 1.125rem;
            line-height: 1.6;
        }

        @media (max-width: 480px) {
            .quick-start-description {
                font-size: 1rem;
                line-height: 1.5;
            }
        }

        .quick-start-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        @media (max-width: 480px) {
            .quick-start-buttons {
                gap: 0.75rem;
            }
        }

        /* ===== –ö–ù–û–ü–ö–ò - –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ===== */
        .button {
            background: var(--primary-blue);
            color: var(--text-light);
            border: 2px solid var(--primary-accent);
            padding: 0.875rem 1.5rem;
            border-radius: var(--border-radius-md);
            font-weight: 600;
            transition: all var(--transition-normal);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            min-height: 48px;
            min-width: 48px;
            font-size: 1rem;
        }

        .button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .button:hover::before,
        .button:active::before {
            width: 200px;
            height: 200px;
        }

        .button:hover,
        .button:active {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--text-light);
        }

        .button-primary {
            background: var(--gradient-secondary);
            border-color: var(--text-light);
        }

        .button-secondary {
            background: rgba(28, 77, 141, 0.5);
            border-color: var(--primary-accent);
        }

        .button-success {
            background: var(--success);
            border-color: var(--success);
        }

        .button-warning {
            background: var(--warning);
            border-color: var(--warning);
        }

        .button-error {
            background: var(--error);
            border-color: var(--error);
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        /* –ú–æ–±–∏–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
        @media (max-width: 768px) {
            .button {
                padding: 0.75rem 1.25rem;
                font-size: 0.95rem;
                min-height: 48px;
            }
            
            .quick-start-buttons .button {
                flex: 1;
                min-width: 0;
            }
        }

        /* ===== –≠–ö–†–ê–ù –ì–û–†–û–î–û–í ===== */
        .cities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        @media (max-width: 480px) {
            .cities-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        .city-card {
            background: var(--primary-dark);
            border-radius: var(--border-radius-xl);
            padding: 1.75rem;
            border: 2px solid var(--primary-accent);
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.5s ease-out backwards;
        }

        .city-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-xl);
            border-color: var(--text-light);
        }

        .city-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-accent);
        }

        .city-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.25rem;
        }

        .city-name {
            font-size: 1.625rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        .city-icon {
            font-size: 2.5rem;
            animation: bounce 2s infinite;
        }

        .city-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0.5rem 0;
            color: var(--primary-accent);
        }

        .rating-stars {
            color: #FFD700;
            font-size: 1.125rem;
        }

        .city-description {
            color: var(--text-muted);
            margin-bottom: 1.25rem;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .city-images {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            margin: 1rem 0;
        }

        .city-image {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: var(--border-radius-md);
            border: 1px solid var(--primary-accent);
            transition: transform var(--transition-normal);
        }

        .city-image:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-md);
        }

        @media (max-width: 480px) {
            .city-images {
                grid-template-columns: 1fr;
            }
            
            .city-image {
                height: 140px;
            }
        }

        .city-actions {
            display: flex;
            gap: 0.75rem;
            margin-top: 1.25rem;
        }

        .city-actions .button {
            flex: 1;
        }

        @media (max-width: 480px) {
            .city-actions {
                flex-direction: column;
            }
        }

        /* ===== –ì–ï–ù–ï–†–ê–¢–û–† –ú–ê–†–®–†–£–¢–û–í ===== */
        .generator-container {
            background: var(--primary-dark);
            padding: 2rem;
            border-radius: var(--border-radius-xl);
            border: 2px solid var(--primary-accent);
            margin-top: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 480px) {
            .generator-container {
                padding: 1.5rem 1rem;
            }
        }

        .generator-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-accent);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-muted);
            font-weight: 600;
            font-size: 1rem;
        }

        .form-select,
        .form-input,
        .form-textarea {
            width: 100%;
            padding: 0.875rem 1.25rem;
            border: 2px solid var(--primary-accent);
            border-radius: var(--border-radius-md);
            background: rgba(10, 29, 58, 0.7);
            color: var(--text-light);
            font-size: 1rem;
            transition: all var(--transition-normal);
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        .form-select:focus,
        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--text-light);
            box-shadow: 0 0 0 3px rgba(189, 232, 245, 0.3);
            transform: translateY(-1px);
        }

        .form-select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23BDE8F5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1.25rem center;
            background-size: 1.25rem;
            padding-right: 3.5rem;
        }

        .form-select option {
            background: var(--primary-dark);
            color: var(--text-light);
            padding: 0.5rem;
        }

        .slider-container {
            margin: 1rem 0;
        }

        .slider {
            width: 100%;
            height: 10px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(10, 29, 58, 0.7);
            border-radius: 5px;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--primary-accent);
            cursor: pointer;
            border: 3px solid var(--text-light);
            box-shadow: var(--shadow-md);
        }

        .slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--primary-accent);
            cursor: pointer;
            border: 3px solid var(--text-light);
            box-shadow: var(--shadow-md);
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.75rem;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .slider-value {
            font-weight: bold;
            color: var(--primary-accent);
            font-size: 1.125rem;
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—Ä—à—Ä—É—Ç–∞ */
        .route-result {
            background: var(--primary-blue);
            padding: 2rem;
            border-radius: var(--border-radius-xl);
            margin-top: 1.5rem;
            border: 2px solid var(--primary-accent);
            display: none;
            animation: scaleIn var(--transition-normal);
        }

        .route-result.show {
            display: block;
        }

        .route-header {
            background: rgba(189, 232, 245, 0.1);
            padding: 1.5rem;
            border-radius: var(--border-radius-md);
            margin-bottom: 1.5rem;
            border: 1px solid var(--primary-accent);
        }

        .route-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1rem;
        }

        .route-info-item {
            text-align: center;
        }

        .route-info-label {
            display: block;
            color: var(--text-muted);
            font-size: 0.875rem;
            margin-bottom: 0.375rem;
        }

        .route-info-value {
            display: block;
            color: var(--text-light);
            font-weight: 600;
            font-size: 1.125rem;
        }

        .route-points {
            margin: 1.5rem 0;
        }

        .route-point {
            background: rgba(28, 77, 141, 0.3);
            padding: 1.25rem;
            border-radius: var(--border-radius-md);
            margin-bottom: 0.75rem;
            border-left: 6px solid var(--primary-accent);
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            transition: all var(--transition-normal);
        }

        .route-point:hover {
            background: rgba(28, 77, 141, 0.5);
            transform: translateX(5px);
        }

        .route-point-number {
            background: var(--primary-accent);
            color: var(--primary-dark);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
            font-size: 1rem;
        }

        .route-point-content {
            flex: 1;
        }

        .route-point-title {
            color: var(--text-light);
            font-weight: 600;
            margin-bottom: 0.375rem;
            font-size: 1.05rem;
        }

        .route-point-details {
            color: var(--text-muted);
            font-size: 0.9rem;
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .route-tips {
            background: rgba(189, 232, 245, 0.2);
            padding: 1.5rem;
            border-radius: var(--border-radius-md);
            margin: 1.5rem 0;
            border: 1px solid var(--primary-accent);
        }

        .route-tips-title {
            color: var(--primary-accent);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.125rem;
        }

        .route-tips-list {
            list-style: none;
            padding-left: 0;
        }

        .route-tip-item {
            color: var(--text-muted);
            padding: 0.5rem 0;
            padding-left: 2rem;
            position: relative;
            font-size: 0.95rem;
        }

        .route-tip-item::before {
            content: 'üí°';
            position: absolute;
            left: 0;
            font-size: 1.125rem;
        }

        .route-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        @media (max-width: 480px) {
            .route-actions {
                flex-direction: column;
            }
        }

        /* ===== AI-–ì–ò–î ===== */
        .chat-container {
            background: var(--primary-dark);
            border-radius: var(--border-radius-xl);
            padding: 2rem;
            border: 2px solid var(--primary-accent);
            margin-top: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 480px) {
            .chat-container {
                padding: 1.5rem 1rem;
            }
        }

        .chat-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-accent);
        }

        .chat-messages {
            height: 400px;
            overflow-y: auto;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background: rgba(10, 29, 58, 0.5);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--primary-accent);
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        @media (max-width: 768px) {
            .chat-messages {
                height: 350px;
            }
        }

        @media (max-width: 480px) {
            .chat-messages {
                height: 300px;
                padding: 1.25rem;
                gap: 0.875rem;
            }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(10, 29, 58, 0.3);
            border-radius: 4px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: var(--primary-accent);
            border-radius: 4px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: var(--primary-light);
        }

        .message {
            padding: 1.25rem;
            border-radius: var(--border-radius-md);
            max-width: 85%;
            animation: fadeIn var(--transition-fast);
            word-wrap: break-word;
            line-height: 1.5;
            font-size: 1rem;
        }

        .user-message {
            background: var(--primary-blue);
            margin-left: auto;
            border-bottom-right-radius: 8px;
            border: 1px solid var(--primary-accent);
            box-shadow: var(--shadow-sm);
        }

        .ai-message {
            background: rgba(28, 77, 141, 0.7);
            margin-right: auto;
            border-bottom-left-radius: 8px;
            border: 1px solid rgba(189, 232, 245, 0.3);
            box-shadow: var(--shadow-sm);
        }

        .typing-indicator {
            padding: 1rem;
            color: var(--text-muted);
            font-style: italic;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: rgba(28, 77, 141, 0.3);
            border-radius: var(--border-radius-md);
            margin-right: auto;
            max-width: 150px;
            font-size: 0.95rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--primary-accent);
            border-radius: 50%;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        .chat-input-container {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
        }

        @media (max-width: 480px) {
            .chat-input-container {
                flex-direction: column;
            }
        }

        .chat-input {
            flex: 1;
            padding: 1rem 1.25rem;
            border: 2px solid var(--primary-accent);
            border-radius: var(--border-radius-md);
            background: rgba(10, 29, 58, 0.7);
            color: var(--text-light);
            font-size: 1.05rem;
            transition: all var(--transition-normal);
            resize: none;
            min-height: 60px;
            max-height: 150px;
            line-height: 1.5;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--text-light);
            box-shadow: 0 0 0 3px rgba(189, 232, 245, 0.3);
            transform: translateY(-1px);
        }

        @media (max-width: 480px) {
            .chat-input {
                min-height: 70px;
                width: 100%;
            }
        }

        .send-button {
            background: var(--gradient-secondary);
            color: var(--text-light);
            border: 2px solid var(--primary-accent);
            padding: 1rem 1.75rem;
            border-radius: var(--border-radius-md);
            font-weight: 600;
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            min-width: 120px;
            justify-content: center;
            min-height: 60px;
            font-size: 1.05rem;
        }

        .send-button:hover:not(:disabled) {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--text-light);
        }

        @media (max-width: 480px) {
            .send-button {
                width: 100%;
                min-height: 58px;
            }
        }

        /* –ö–∞—Ä—Ç–∞ */
        .map-container {
            background: var(--primary-dark);
            padding: 2rem;
            border-radius: var(--border-radius-xl);
            border: 2px solid var(--primary-accent);
            margin-top: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 480px) {
            .map-container {
                padding: 1.5rem;
            }
        }

        .map-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-accent);
        }

        .map-placeholder {
            height: 400px;
            background: rgba(28, 77, 141, 0.3);
            border-radius: var(--border-radius-lg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-size: 1.5rem;
            border: 2px dashed var(--primary-accent);
            text-align: center;
            padding: 2rem;
        }

        @media (max-width: 480px) {
            .map-placeholder {
                height: 300px;
                font-size: 1.25rem;
                padding: 1.5rem;
            }
        }

        .city-badges {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 1.5rem;
        }

        .city-badge {
            background: rgba(189, 232, 245, 0.2);
            color: var(--text-light);
            padding: 0.625rem 1.25rem;
            border-radius: 50px;
            font-size: 0.95rem;
            border: 1px solid var(--primary-accent);
            transition: all var(--transition-normal);
        }

        .city-badge:hover {
            background: rgba(189, 232, 245, 0.3);
            transform: translateY(-2px);
        }

        /* ===== –ù–ê–°–¢–†–û–ô–ö–ò ===== */
        .settings-container {
            background: var(--primary-dark);
            padding: 2rem;
            border-radius: var(--border-radius-xl);
            border: 2px solid var(--primary-accent);
            margin-top: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 480px) {
            .settings-container {
                padding: 1.5rem 1rem;
            }
        }

        .settings-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-accent);
        }

        .settings-section {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid rgba(189, 232, 245, 0.1);
        }

        .settings-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .settings-title {
            color: var(--primary-accent);
            margin-bottom: 1rem;
            font-size: 1.375rem;
        }

        .settings-help {
            background: rgba(189, 232, 245, 0.1);
            padding: 1.5rem;
            border-radius: var(--border-radius-md);
            margin-top: 1rem;
            border: 1px solid var(--primary-accent);
        }

        .settings-help-title {
            color: var(--primary-accent);
            margin-bottom: 0.5rem;
            font-weight: 600;
            font-size: 1.05rem;
        }

        .settings-help-text {
            color: var(--text-muted);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .status-message {
            padding: 1rem;
            border-radius: var(--border-radius-md);
            margin-top: 1rem;
            font-weight: 500;
            text-align: center;
            animation: fadeIn var(--transition-fast);
            font-size: 1rem;
        }

        .status-success {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .status-warning {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .status-error {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        /* ===== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û ===== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 29, 58, 0.95);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(8px);
            animation: fadeIn var(--transition-normal);
            padding: 1rem;
        }

        .modal-content {
            background: var(--primary-dark);
            border-radius: var(--border-radius-xl);
            padding: 2.5rem;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 3px solid var(--primary-accent);
            box-shadow: var(--shadow-xl);
            position: relative;
            animation: scaleIn var(--transition-normal);
        }

        @media (max-width: 480px) {
            .modal-content {
                padding: 1.75rem 1.5rem;
                max-height: 85vh;
            }
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--primary-accent);
            font-size: 2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-normal);
            z-index: 2;
        }

        .modal-close:hover {
            background: rgba(189, 232, 245, 0.1);
            transform: rotate(90deg);
        }

        /* ===== –õ–û–ê–î–ï–† ===== */
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(189, 232, 245, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-accent);
            animation: spin 1s linear infinite;
        }

        /* ===== –£–¢–ò–õ–ò–¢–´ ===== */
        .text-center {
            text-align: center;
        }

        .text-muted {
            color: var(--text-muted);
        }

        .text-accent {
            color: var(--primary-accent);
        }

        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 0.75rem; }
        .mt-3 { margin-top: 1rem; }
        .mt-4 { margin-top: 1.5rem; }
        .mt-5 { margin-top: 2rem; }

        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 0.75rem; }
        .mb-3 { margin-bottom: 1rem; }
        .mb-4 { margin-bottom: 1.5rem; }
        .mb-5 { margin-bottom: 2rem; }

        .p-1 { padding: 0.5rem; }
        .p-2 { padding: 0.75rem; }
        .p-3 { padding: 1rem; }
        .p-4 { padding: 1.5rem; }
        .p-5 { padding: 2rem; }

        .hidden {
            display: none !important;
        }

        .visible {
            display: block !important;
        }

        .flex {
            display: flex;
        }

        .flex-column {
            flex-direction: column;
        }

        .flex-wrap {
            flex-wrap: wrap;
        }

        .items-center {
            align-items: center;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-1 { gap: 0.5rem; }
        .gap-2 { gap: 0.75rem; }
        .gap-3 { gap: 1rem; }
        .gap-4 { gap: 1.5rem; }
        .gap-5 { gap: 2rem; }

        .w-full {
            width: 100%;
        }

        .h-full {
            height: 100%;
        }

        /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π */
        .touch-friendly {
            min-height: 44px;
            min-width: 44px;
        }

        .no-scroll {
            overflow: hidden;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- –®–ê–ü–ö–ê –° –ù–ê–í–ò–ì–ê–¶–ò–ï–ô -->
        <header class="header">
            <div class="header-content">
                <div class="logo-container">
                    <div class="logo">–ì–∏–¥–∏–∫</div>
                    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                        <span>‚ò∞</span>
                    </button>
                </div>
                <nav class="nav" id="mobileNav">
                    <button class="nav-button active" onclick="showScreen('home')">
                        <span>üè†</span> –ì–ª–∞–≤–Ω–∞—è
                    </button>
                    <button class="nav-button" onclick="showScreen('cities')">
                        <span>üèõÔ∏è</span> –ì–æ—Ä–æ–¥–∞
                    </button>
                    <button class="nav-button" onclick="showScreen('generator')">
                        <span>üó∫Ô∏è</span> –ú–∞—Ä—à—Ä—É—Ç—ã
                    </button>
                    <button class="nav-button" onclick="showScreen('ai-guide')">
                        <span>ü§ñ</span> AI-–≥–∏–¥
                    </button>
                    <button class="nav-button" onclick="showScreen('map')">
                        <span>üó∫Ô∏è</span> –ö–∞—Ä—Ç–∞
                    </button>
                    <button class="nav-button" onclick="showScreen('settings')">
                        <span>‚öôÔ∏è</span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                    </button>
                </nav>
            </div>
        </header>

        <!-- –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù -->
        <section id="home" class="screen active">
            <div class="hero-section">
                <h1 class="hero-title">–ì–∏–¥–∏–∫ ‚Äî AI-–ø—Ä–æ–≤–æ–¥–Ω–∏–∫ –ø–æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</h1>
                <p class="hero-subtitle">
                    –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã –æ –≥–æ—Ä–æ–¥–∞—Ö, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è—Ö –∏ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–≥–∏–æ–Ω–∞
                </p>
                <div class="feature-tags">
                    <span class="feature-tag">ü§ñ AI-–≥–∏–¥ –æ–Ω–ª–∞–π–Ω</span>
                    <span class="feature-tag">üó∫Ô∏è –£–º–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã</span>
                    <span class="feature-tag">üèõÔ∏è 5 –≥–æ—Ä–æ–¥–æ–≤</span>
                    <span class="feature-tag">‚≠ê –†–µ–π—Ç–∏–Ω–≥–∏ –∏ –æ—Ç–∑—ã–≤—ã</span>
                    <span class="feature-tag">üí¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç</span>
                    <span class="feature-tag">üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω</span>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">–ì–æ—Ä–æ–¥–æ–≤ —Å AI-–≥–∏–¥–æ–º</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">100+</div>
                    <div class="stat-label">–û—Ç–∑—ã–≤–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">4.7‚òÖ</div>
                    <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥</div>
                </div>
            </div>

            <div class="quick-start">
                <h2 class="quick-start-title">üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
                <p class="quick-start-description">
                    –ù–∞—á–Ω–∏—Ç–µ —Å –∏–∑—É—á–µ–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤ –∏–ª–∏ –∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å AI-–≥–∏–¥—É –æ –ª—é–±–æ–º –º–µ—Å—Ç–µ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.
                    –ù–∞—à –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ.
                </p>
                <div class="quick-start-buttons">
                    <button class="button button-primary" onclick="showScreen('cities')">
                        <span>üèõÔ∏è</span> –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –≥–æ—Ä–æ–¥–∞
                    </button>
                    <button class="button" onclick="showScreen('generator')">
                        <span>üó∫Ô∏è</span> –°–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç
                    </button>
                    <button class="button" onclick="showScreen('ai-guide')">
                        <span>ü§ñ</span> –°–ø—Ä–æ—Å–∏—Ç—å AI-–≥–∏–¥–∞
                    </button>
                </div>
            </div>
        </section>

        <!-- –≠–ö–†–ê–ù –ì–û–†–û–î–û–í -->
        <section id="cities" class="screen">
            <button class="back-button" onclick="showScreen('home')">
                <span>‚Üê</span> –ù–∞–∑–∞–¥ –∫ –≥–ª–∞–≤–Ω–æ–π
            </button>

            <h2 class="main-title">üèõÔ∏è –ì–æ—Ä–æ–¥–∞ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</h2>

            <div class="cities-grid" id="citiesGrid"><div class="city-card" style="animation-delay: 0s;">
                    <div class="city-header">
                        <div>
                            <div class="city-name">–ò–≤–∞–Ω–æ–≤–æ</div>
                            <div class="city-rating">
                                <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                                <span>4.2</span>
                            </div>
                        </div>
                        <div class="city-icon">üè≠</div>
                    </div>

                    <div class="city-description">–°—Ç–æ–ª–∏—Ü–∞ —Ç–µ–∫—Å—Ç–∏–ª—å–Ω–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏ –†–æ—Å—Å–∏–∏, –∏–∑–≤–µ—Å—Ç–Ω–∞—è —Å–≤–æ–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–∏–∑–º–∞ –∏ –±–æ–≥–∞—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π. –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ~400,000 —á–µ–ª–æ–≤–µ–∫.</div>

                    <div class="city-images">
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ò–≤–∞–Ω–æ–≤–æ - —Ñ–æ—Ç–æ 1" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ò–≤–∞–Ω–æ–≤–æ</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ò–≤–∞–Ω–æ–≤–æ - —Ñ–æ—Ç–æ 2" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ò–≤–∞–Ω–æ–≤–æ</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ò–≤–∞–Ω–æ–≤–æ - —Ñ–æ—Ç–æ 3" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ò–≤–∞–Ω–æ–≤–æ</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ò–≤–∞–Ω–æ–≤–æ - —Ñ–æ—Ç–æ 4" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ò–≤–∞–Ω–æ–≤–æ</text>'"&gt;
                </rect></rect></rect></rect></div>

                    <div class="city-actions">
                        <button class="button" onclick="openCityModal('–ò–≤–∞–Ω–æ–≤–æ')">
                            <span>üìù</span> –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </button>
                        <button class="button button-primary" onclick="generateCityRoute('–ò–≤–∞–Ω–æ–≤–æ')">
                            <span>üó∫Ô∏è</span> –ú–∞—Ä—à—Ä—É—Ç
                        </button>
                    </div>
                </div><div class="city-card" style="animation-delay: 0.1s;">
                    <div class="city-header">
                        <div>
                            <div class="city-name">–®—É—è</div>
                            <div class="city-rating">
                                <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                                <span>4.1</span>
                            </div>
                        </div>
                        <div class="city-icon">üïç</div>
                    </div>

                    <div class="city-description">–û–¥–∏–Ω –∏–∑ –¥—Ä–µ–≤–Ω–µ–π—à–∏—Ö –≥–æ—Ä–æ–¥–æ–≤ –æ–±–ª–∞—Å—Ç–∏, –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–≤–æ–µ–π –∫–æ–ª–æ–∫–æ–ª—å–Ω–µ–π –∏ –º—ã–ª–æ–≤–∞—Ä–µ–Ω–Ω–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å—é. –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ~55,000 —á–µ–ª–æ–≤–µ–∫.</div>

                    <div class="city-images">
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–®—É—è - —Ñ–æ—Ç–æ 1" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–®—É—è</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–®—É—è - —Ñ–æ—Ç–æ 2" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–®—É—è</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–®—É—è - —Ñ–æ—Ç–æ 3" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–®—É—è</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–®—É—è - —Ñ–æ—Ç–æ 4" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–®—É—è</text>'"&gt;
                </rect></rect></rect></rect></div>

                    <div class="city-actions">
                        <button class="button" onclick="openCityModal('–®—É—è')">
                            <span>üìù</span> –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </button>
                        <button class="button button-primary" onclick="generateCityRoute('–®—É—è')">
                            <span>üó∫Ô∏è</span> –ú–∞—Ä—à—Ä—É—Ç
                        </button>
                    </div>
                </div><div class="city-card" style="animation-delay: 0.2s;">
                    <div class="city-header">
                        <div>
                            <div class="city-name">–ö–∏–Ω–µ—à–º–∞</div>
                            <div class="city-rating">
                                <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                                <span>4.0</span>
                            </div>
                        </div>
                        <div class="city-icon">‚õµ</div>
                    </div>

                    <div class="city-description">–í—Ç–æ—Ä–æ–π –ø–æ –≤–µ–ª–∏—á–∏–Ω–µ –≥–æ—Ä–æ–¥ –æ–±–ª–∞—Å—Ç–∏ —Å –±–æ–≥–∞—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –∫—Ä–∞—Å–∏–≤–æ–π –≤–æ–ª–∂—Å–∫–æ–π –Ω–∞–±–µ—Ä–µ–∂–Ω–æ–π. –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ~80,000 —á–µ–ª–æ–≤–µ–∫.</div>

                    <div class="city-images">
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ö–∏–Ω–µ—à–º–∞ - —Ñ–æ—Ç–æ 1" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ö–∏–Ω–µ—à–º–∞</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ö–∏–Ω–µ—à–º–∞ - —Ñ–æ—Ç–æ 2" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ö–∏–Ω–µ—à–º–∞</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ö–∏–Ω–µ—à–º–∞ - —Ñ–æ—Ç–æ 3" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ö–∏–Ω–µ—à–º–∞</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ö–∏–Ω–µ—à–º–∞ - —Ñ–æ—Ç–æ 4" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ö–∏–Ω–µ—à–º–∞</text>'"&gt;
                </rect></rect></rect></rect></div>

                    <div class="city-actions">
                        <button class="button" onclick="openCityModal('–ö–∏–Ω–µ—à–º–∞')">
                            <span>üìù</span> –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </button>
                        <button class="button button-primary" onclick="generateCityRoute('–ö–∏–Ω–µ—à–º–∞')">
                            <span>üó∫Ô∏è</span> –ú–∞—Ä—à—Ä—É—Ç
                        </button>
                    </div>
                </div><div class="city-card" style="animation-delay: 0.3s;">
                    <div class="city-header">
                        <div>
                            <div class="city-name">–ü–ª—ë—Å</div>
                            <div class="city-rating">
                                <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                <span>4.8</span>
                            </div>
                        </div>
                        <div class="city-icon">üé®</div>
                    </div>

                    <div class="city-description">–ñ–∏–≤–æ–ø–∏—Å–Ω—ã–π –≥–æ—Ä–æ–¥ –Ω–∞ –í–æ–ª–≥–µ, –≤–¥–æ—Ö–Ω–æ–≤–ª—è–≤—à–∏–π –º–Ω–æ–≥–∏—Ö —Ä—É—Å—Å–∫–∏—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤, –≤–∫–ª—é—á–∞—è –õ–µ–≤–∏—Ç–∞–Ω–∞. –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ~2,000 —á–µ–ª–æ–≤–µ–∫.</div>

                    <div class="city-images">
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ü–ª—ë—Å - —Ñ–æ—Ç–æ 1" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ü–ª—ë—Å</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ü–ª—ë—Å - —Ñ–æ—Ç–æ 2" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ü–ª—ë—Å</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ü–ª—ë—Å - —Ñ–æ—Ç–æ 3" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ü–ª—ë—Å</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ü–ª—ë—Å - —Ñ–æ—Ç–æ 4" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ü–ª—ë—Å</text>'"&gt;
                </rect></rect></rect></rect></div>

                    <div class="city-actions">
                        <button class="button" onclick="openCityModal('–ü–ª—ë—Å')">
                            <span>üìù</span> –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </button>
                        <button class="button button-primary" onclick="generateCityRoute('–ü–ª—ë—Å')">
                            <span>üó∫Ô∏è</span> –ú–∞—Ä—à—Ä—É—Ç
                        </button>
                    </div>
                </div><div class="city-card" style="animation-delay: 0.4s;">
                    <div class="city-header">
                        <div>
                            <div class="city-name">–ü–∞–ª–µ—Ö</div>
                            <div class="city-rating">
                                <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                <span>4.6</span>
                            </div>
                        </div>
                        <div class="city-icon">üñåÔ∏è</div>
                    </div>

                    <div class="city-description">–í—Å–µ–º–∏—Ä–Ω–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ü–µ–Ω—Ç—Ä –ª–∞–∫–æ–≤–æ–π –º–∏–Ω–∏–∞—Ç—é—Ä—ã –∏ –∏–∫–æ–Ω–æ–ø–∏—Å–∏, –≥–æ—Ä–æ–¥-–º—É–∑–µ–π –ø–æ–¥ –æ—Ç–∫—Ä—ã—Ç—ã–º –Ω–µ–±–æ–º. –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ~5,000 —á–µ–ª–æ–≤–µ–∫.</div>

                    <div class="city-images">
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ü–∞–ª–µ—Ö - —Ñ–æ—Ç–æ 1" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ü–∞–ª–µ—Ö</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ü–∞–ª–µ—Ö - —Ñ–æ—Ç–æ 2" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ü–∞–ª–µ—Ö</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ü–∞–ª–µ—Ö - —Ñ–æ—Ç–æ 3" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ü–∞–ª–µ—Ö</text>'"&gt;
                
                    <img src="https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;h=400&amp;q=80" alt="–ü–∞–ª–µ—Ö - —Ñ–æ—Ç–æ 4" class="city-image" onerror="this.src='data:image/svg+xml;utf8,&lt;svg xmlns=" http:="" www.w3.org="" 2000="" svg"="" width="300" height="200"><rect width="300" height="200" fill="%231C4D8D"><text x="150" y="100" font-family="Arial" font-size="20" fill="white" text-anchor="middle" dominant-baseline="middle">–ü–∞–ª–µ—Ö</text>'"&gt;
                </rect></rect></rect></rect></div>

                    <div class="city-actions">
                        <button class="button" onclick="openCityModal('–ü–∞–ª–µ—Ö')">
                            <span>üìù</span> –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </button>
                        <button class="button button-primary" onclick="generateCityRoute('–ü–∞–ª–µ—Ö')">
                            <span>üó∫Ô∏è</span> –ú–∞—Ä—à—Ä—É—Ç
                        </button>
                    </div>
                </div></div>
        </section>

        <!-- –ì–ï–ù–ï–†–ê–¢–û–† –ú–ê–†–®–†–£–¢–û–í -->
        <section id="generator" class="screen">
            <button class="back-button" onclick="showScreen('home')">
                <span>‚Üê</span> –ù–∞–∑–∞–¥ –∫ –≥–ª–∞–≤–Ω–æ–π
            </button>

            <h2 class="main-title">üó∫Ô∏è –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–æ–≤</h2>

            <div class="generator-container">
                <form id="routeForm">
                    <div class="form-group">
                        <label class="form-label">üèôÔ∏è –í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</label>
                        <select id="city" class="form-select" required="">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥...</option>
                            <option value="–ò–≤–∞–Ω–æ–≤–æ">–ò–≤–∞–Ω–æ–≤–æ</option>
                            <option value="–®—É—è">–®—É—è</option>
                            <option value="–ö–∏–Ω–µ—à–º–∞">–ö–∏–Ω–µ—à–º–∞</option>
                            <option value="–ü–ª—ë—Å">–ü–ª—ë—Å</option>
                            <option value="–ü–∞–ª–µ—Ö">–ü–∞–ª–µ—Ö</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">üéØ –í–∞—à–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã</label>
                        <select id="interests" class="form-select" required="">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã...</option>
                            <option value="history">üèõÔ∏è –ò—Å—Ç–æ—Ä–∏—è –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</option>
                            <option value="nature">üå≥ –ü—Ä–∏—Ä–æ–¥–∞ –∏ –ø–∞—Ä–∫–∏</option>
                            <option value="culture">üé≠ –ö—É–ª—å—Ç—É—Ä–∞ –∏ –º—É–∑–µ–∏</option>
                            <option value="religion">‚õ™ –•—Ä–∞–º—ã –∏ –º–æ–Ω–∞—Å—Ç—ã—Ä–∏</option>
                            <option value="gastronomy">üçΩÔ∏è –ï–¥–∞ –∏ –∫–∞—Ñ–µ</option>
                            <option value="all">üåü –í—Å—ë –≤–º–µ—Å—Ç–µ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">‚è±Ô∏è –í—Ä–µ–º—è –Ω–∞ –æ—Å–º–æ—Ç—Ä (—á–∞—Å—ã)</label>
                        <div class="slider-container">
                            <input type="range" id="time" class="slider" min="1" max="12" value="3" oninput="updateTimeValue(this.value)">
                            <div class="slider-labels">
                                <span>1 —á–∞—Å</span>
                                <span id="timeValue" class="slider-value">3 —á–∞—Å–∞</span>
                                <span>12 —á–∞—Å–æ–≤</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">üí∞ –ë—é–¥–∂–µ—Ç –Ω–∞ –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞</label>
                        <select id="budget" class="form-select">
                            <option value="free">üéØ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ</option>
                            <option value="low">üí∞ –î–æ 500‚ÇΩ</option>
                            <option value="medium" selected="">üíµ 500-2000‚ÇΩ</option>
                            <option value="high">üíé –ë–æ–ª–µ–µ 2000‚ÇΩ</option>
                        </select>
                    </div>

                    <button type="submit" class="button button-primary w-full mt-4">
                        <span>‚ú®</span> –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç
                    </button>
                </form>

                <div id="routeResult" class="route-result">
                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—Ä—à—Ä—É—Ç–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
        </section>

        <!-- AI-–ì–ò–î -->
        <section id="ai-guide" class="screen">
            <button class="back-button" onclick="showScreen('home')">
                <span>‚Üê</span> –ù–∞–∑–∞–¥ –∫ –≥–ª–∞–≤–Ω–æ–π
            </button>

            <h2 class="main-title">ü§ñ AI-–≥–∏–¥ –ø–æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</h2>

            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="message ai-message">
                        <strong>üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –≤–∞—à AI-–≥–∏–¥ –ø–æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.</strong>
                        <br><br>
                        –Ø –ø–æ–º–æ–≥—É –≤–∞–º —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ –≥–æ—Ä–æ–¥–∞—Ö, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è—Ö, –º–∞—Ä—à—Ä—É—Ç–∞—Ö –∏ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–≥–∏–æ–Ω–∞.
                        –ó–∞–¥–∞–π—Ç–µ –º–Ω–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏!
                        <br><br>
                        <strong>üí° –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:</strong>
                        <br>‚Ä¢ "–ö–∞–∫–∏–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ü–ª—ë—Å–µ –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å?"
                        <br>‚Ä¢ "–ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è –∏–∑ –ò–≤–∞–Ω–æ–≤–æ –≤ –ü–∞–ª–µ—Ö –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º?"
                        <br>‚Ä¢ "–ì–¥–µ –ª—É—á—à–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ 2 –¥–Ω—è –≤ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ —Å —Å–µ–º—å–µ–π?"
                        <br>‚Ä¢ "–†–∞—Å—Å–∫–∞–∂–∏ –æ–± –∏—Å—Ç–æ—Ä–∏–∏ —Ç–µ–∫—Å—Ç–∏–ª—å–Ω–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏ –ò–≤–∞–Ω–æ–≤–æ"
                        <br>‚Ä¢ "–ö–∞–∫–∏–µ –º—É–∑–µ–∏ —Å—Ç–æ–∏—Ç –ø–æ—Å–µ—Ç–∏—Ç—å –≤ –®—É–µ?"
                        <br>‚Ä¢ "–ß—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ö–∏–Ω–µ—à–º–µ?"
                    </div>
                </div>

                <div class="chat-input-container">
                    <textarea class="chat-input" id="chatInput" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏..." rows="1" onkeydown="handleChatInputKeydown(event)" oninput="autoResizeTextarea(this)"></textarea>
                    <button class="send-button" id="sendButton" onclick="sendMessage()">
                        <span>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</span>
                        <span>‚ÜóÔ∏è</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- –ö–ê–†–¢–ê -->
        <section id="map" class="screen">
            <button class="back-button" onclick="showScreen('home')">
                <span>‚Üê</span> –ù–∞–∑–∞–¥ –∫ –≥–ª–∞–≤–Ω–æ–π
            </button>

            <h2 class="main-title">üó∫Ô∏è –ö–∞—Ä—Ç–∞ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</h2>

            <div class="map-container">
                <div class="map-placeholder">
                    üó∫Ô∏è –ö–∞—Ä—Ç–∞ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏
                    <div class="city-badges mt-4">
                        <span class="city-badge">–ò–≤–∞–Ω–æ–≤–æ</span>
                        <span class="city-badge">–®—É—è</span>
                        <span class="city-badge">–ö–∏–Ω–µ—à–º–∞</span>
                        <span class="city-badge">–ü–ª—ë—Å</span>
                        <span class="city-badge">–ü–∞–ª–µ—Ö</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- –ù–ê–°–¢–†–û–ô–ö–ò -->
        <section id="settings" class="screen">
            <button class="back-button" onclick="showScreen('home')">
                <span>‚Üê</span> –ù–∞–∑–∞–¥ –∫ –≥–ª–∞–≤–Ω–æ–π
            </button>

            <h2 class="main-title">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>

            <div class="settings-container">
                <div class="settings-section">
                    <h3 class="settings-title">üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h3>
                    <div class="config-info">
                        <div><strong>ü§ñ AI –ú–æ–¥–µ–ª—å:</strong> DeepSeek R1</div>
                        <div><strong>üß† –†–µ–∂–∏–º –º—ã—à–ª–µ–Ω–∏—è:</strong> –í–∫–ª—é—á–µ–Ω</div>
                        <div><strong>üîó API:</strong> –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</div>
                    </div>
                </div>

                <div class="settings-section">
                    <h3 class="settings-title">üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏</h3>
                    <div class="flex gap-2 flex-wrap">
                        <button onclick="clearChatHistory()" class="button button-warning">
                            <span>üóëÔ∏è</span> –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞
                        </button>
                        <button onclick="clearLocalStorage()" class="button button-warning">
                            <span>üóëÔ∏è</span> –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                        </button>
                        <button onclick="resetApp()" class="button button-error">
                            <span>üîÑ</span> –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                        </button>
                    </div>
                </div>

                <div class="settings-section">
                    <h3 class="settings-title">üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</h3>
                    <div class="settings-help">
                        <p class="settings-help-text">
                            <strong>–ì–∏–¥–∏–∫ v2.0</strong><br>
                            AI-–ø—Ä–æ–≤–æ–¥–Ω–∏–∫ –ø–æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏<br>
                            –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ AI-–≥–∏–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏<br>
                            –î–ª—è —Ä–∞–±–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å DeepSeek R1
                        </p>
                    </div>
                </div>

                <div class="settings-help">
                    <h4 class="settings-help-title">üí° –°–ø—Ä–∞–≤–∫–∞</h4>
                    <p class="settings-help-text">
                        AI-–≥–∏–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.<br>
                        –ü—Ä–æ—Å—Ç–æ –∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ –ª—é–±–æ–º –≥–æ—Ä–æ–¥–µ –∏–ª–∏ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.
                    </p>
                </div>
            </div>
        </section>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">√ó</button>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        // ===== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø =====
        const API_CONFIG = {
            OPENROUTER_API_KEY: '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', // API –∫–ª—é—á –∑–∞—à–∏—Ç –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ
            MODEL: 'arcee-ai/trinity-large-preview:free',
            API_URL: 'https://openrouter.ai/api/v1/chat/completions',
            REASONING: true
        };

        // ===== –î–ê–ù–ù–´–ï –ì–û–†–û–î–û–í =====
        const CITIES_DATA = {
            "–ò–≤–∞–Ω–æ–≤–æ": {
                icon: "üè≠",
                description: "–°—Ç–æ–ª–∏—Ü–∞ —Ç–µ–∫—Å—Ç–∏–ª—å–Ω–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏ –†–æ—Å—Å–∏–∏, –∏–∑–≤–µ—Å—Ç–Ω–∞—è —Å–≤–æ–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–∏–∑–º–∞ –∏ –±–æ–≥–∞—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π. –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ~400,000 —á–µ–ª–æ–≤–µ–∫.",
                images: [
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80"
                ],
                attractions: [
                    "–©—É–¥—Ä–æ–≤—Å–∫–∞—è –ø–∞–ª–∞—Ç–∫–∞",
                    "–ú—É–∑–µ–π –∏–≤–∞–Ω–æ–≤—Å–∫–æ–≥–æ —Å–∏—Ç—Ü–∞",
                    "–°–≤—è—Ç–æ-–í–≤–µ–¥–µ–Ω—Å–∫–∏–π –∂–µ–Ω—Å–∫–∏–π –º–æ–Ω–∞—Å—Ç—ã—Ä—å",
                    "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω—Å–∞–º–±–ª—å –ø–ª–æ—â–∞–¥–∏ –†–µ–≤–æ–ª—é—Ü–∏–∏",
                    "–î–æ–º-–∫–æ—Ä–∞–±–ª—å",
                    "–ü–∞—Ä–∫ –∏–º. –°—Ç–µ–ø–∞–Ω–æ–≤–∞",
                    "–ò–≤–∞–Ω–æ–≤—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ü–∏—Ä–∫",
                    "–ú—É–∑–µ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–∞"
                ],
                rating: 4.2,
                reviews: [
                    { author: "–ê–Ω–Ω–∞", rating: 5, text: "–ü—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –≥–æ—Ä–æ–¥ —Å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π! –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –º—É–∑–µ–π —Å–∏—Ç—Ü–∞." },
                    { author: "–î–º–∏—Ç—Ä–∏–π", rating: 4, text: "–ú–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –º–µ—Å—Ç, –Ω–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã." },
                    { author: "–û–ª—å–≥–∞", rating: 4, text: "–ì–æ—Ä–æ–¥ —Å –±–æ–≥–∞—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–µ—Ç–∏—Ç–µ –°–≤—è—Ç–æ-–í–≤–µ–¥–µ–Ω—Å–∫–∏–π –º–æ–Ω–∞—Å—Ç—ã—Ä—å." }
                ]
            },
            "–®—É—è": {
                icon: "üïç",
                description: "–û–¥–∏–Ω –∏–∑ –¥—Ä–µ–≤–Ω–µ–π—à–∏—Ö –≥–æ—Ä–æ–¥–æ–≤ –æ–±–ª–∞—Å—Ç–∏, –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–≤–æ–µ–π –∫–æ–ª–æ–∫–æ–ª—å–Ω–µ–π –∏ –º—ã–ª–æ–≤–∞—Ä–µ–Ω–Ω–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å—é. –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ~55,000 —á–µ–ª–æ–≤–µ–∫.",
                images: [
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80"
                ],
                attractions: [
                    "–ö–æ–ª–æ–∫–æ–ª—å–Ω—è –í–æ—Å–∫—Ä–µ—Å–µ–Ω—Å–∫–æ–≥–æ —Å–æ–±–æ—Ä–∞ (106 –º–µ—Ç—Ä–æ–≤)",
                    "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω–æ-–∫—Ä–∞–µ–≤–µ–¥—á–µ—Å–∫–∏–π –º—É–∑–µ–π",
                    "–ú—É–∑–µ–π –º—ã–ª–∞",
                    "–ì–æ—Ä–æ–¥—Å–∫–æ–π –ø–∞—Ä–∫ –∫—É–ª—å—Ç—É—Ä—ã –∏ –æ—Ç–¥—ã—Ö–∞",
                    "–¶–µ—Ä–∫–æ–≤—å –ü–µ—Ç—Ä–∞ –∏ –ü–∞–≤–ª–∞",
                    "–®—É–π—Å–∫–∏–π –∏—Å—Ç–æ—Ä–∏–∫–æ-—Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –º—É–∑–µ–π",
                    "–¢–æ—Ä–≥–æ–≤—ã–µ —Ä—è–¥—ã XIX –≤–µ–∫–∞",
                    "–î–æ–º —Ñ–∞–±—Ä–∏–∫–∞–Ω—Ç–∞ –ü–æ—Å—ã–ª–∏–Ω–∞"
                ],
                rating: 4.1,
                reviews: [
                    { author: "–ï–ª–µ–Ω–∞", rating: 5, text: "–û—á–µ–Ω—å –∫–æ–ª–æ—Ä–∏—Ç–Ω—ã–π –≥–æ—Ä–æ–¥! –ú—É–∑–µ–π –º—ã–ª–∞ - —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ!" },
                    { author: "–ê–ª–µ–∫—Å–µ–π", rating: 3, text: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –Ω–æ –º–∞–ª–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–∞—Ñ–µ. –ö–æ–ª–æ–∫–æ–ª—å–Ω—è –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç!" },
                    { author: "–ú–∞—Ä–∏–Ω–∞", rating: 4, text: "–£—é—Ç–Ω—ã–π –ø—Ä–æ–≤–∏–Ω—Ü–∏–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥. –í–∏–¥ —Å –∫–æ–ª–æ–∫–æ–ª—å–Ω–∏ –ø–æ—Ç—Ä—è—Å–∞—é—â–∏–π!" }
                ]
            },
            "–ö–∏–Ω–µ—à–º–∞": {
                icon: "‚õµ",
                description: "–í—Ç–æ—Ä–æ–π –ø–æ –≤–µ–ª–∏—á–∏–Ω–µ –≥–æ—Ä–æ–¥ –æ–±–ª–∞—Å—Ç–∏ —Å –±–æ–≥–∞—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –∫—Ä–∞—Å–∏–≤–æ–π –≤–æ–ª–∂—Å–∫–æ–π –Ω–∞–±–µ—Ä–µ–∂–Ω–æ–π. –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ~80,000 —á–µ–ª–æ–≤–µ–∫.",
                images: [
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80"
                ],
                attractions: [
                    "–í–æ–ª–∂—Å–∫–∏–π –±—É–ª—å–≤–∞—Ä –∏ –±–µ—Å–µ–¥–∫–∞ –û—Å—Ç—Ä–æ–≤—Å–∫–æ–≥–æ",
                    "–ö–∏–Ω–µ—à–µ–º—Å–∫–∏–π –¥—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–∞—Ç—Ä",
                    "–ú—É–∑–µ–π –≤–∞–ª–µ–Ω–æ–∫",
                    "–¢—Ä–æ–∏—Ü–∫–æ-–£—Å–ø–µ–Ω—Å–∫–∏–π —Å–æ–±–æ—Ä",
                    "–ö—Ä–∞—Å–Ω—ã–µ –∏ –ë–µ–ª—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Ä—è–¥—ã",
                    "–ü–∞—Ä–∫ –∫—É–ª—å—Ç—É—Ä—ã –∏ –æ—Ç–¥—ã—Ö–∞ –∏–º. 35-–ª–µ—Ç–∏—è –ü–æ–±–µ–¥—ã",
                    "–ú—É–∑–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –ö–∏–Ω–µ—à–º—ã",
                    "–¶–µ—Ä–∫–æ–≤—å –í–æ–∑–Ω–µ—Å–µ–Ω–∏—è –ì–æ—Å–ø–æ–¥–Ω—è"
                ],
                rating: 4.0,
                reviews: [
                    { author: "–ú–∏—Ö–∞–∏–ª", rating: 4, text: "–£—é—Ç–Ω—ã–π –≥–æ—Ä–æ–¥ —Å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π. –ù–∞–±–µ—Ä–µ–∂–Ω–∞—è - –ø—Ä–æ—Å—Ç–æ —Å–∫–∞–∑–∫–∞!" },
                    { author: "–°–≤–µ—Ç–ª–∞–Ω–∞", rating: 5, text: "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–µ—Ç–∏—Ç–µ –º—É–∑–µ–π –≤–∞–ª–µ–Ω–æ–∫ - —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ!" },
                    { author: "–ò–≥–æ—Ä—å", rating: 4, text: "–•–æ—Ä–æ—à–µ–µ –º–µ—Å—Ç–æ –¥–ª—è —Å–ø–æ–∫–æ–π–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞. –ö—Ä–∞—Å–∏–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞." }
                ]
            },
            "–ü–ª—ë—Å": {
                icon: "üé®",
                description: "–ñ–∏–≤–æ–ø–∏—Å–Ω—ã–π –≥–æ—Ä–æ–¥ –Ω–∞ –í–æ–ª–≥–µ, –≤–¥–æ—Ö–Ω–æ–≤–ª—è–≤—à–∏–π –º–Ω–æ–≥–∏—Ö —Ä—É—Å—Å–∫–∏—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤, –≤–∫–ª—é—á–∞—è –õ–µ–≤–∏—Ç–∞–Ω–∞. –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ~2,000 —á–µ–ª–æ–≤–µ–∫.",
                images: [
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80"
                ],
                attractions: [
                    "–í–æ–ª–∂—Å–∫–∞—è –Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è –∏ –°–æ–±–æ—Ä–Ω–∞—è –≥–æ—Ä–∞",
                    "–î–æ–º-–º—É–∑–µ–π –ò—Å–∞–∞–∫–∞ –õ–µ–≤–∏—Ç–∞–Ω–∞",
                    "–ú—É–∑–µ–π –ø–µ–π–∑–∞–∂–∞",
                    "–£—Å–ø–µ–Ω—Å–∫–∏–π —Å–æ–±–æ—Ä XVII –≤–µ–∫–∞",
                    "–°–º–æ—Ç—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ –Ω–∞ –í–æ–ª–≥—É",
                    "–¶–µ—Ä–∫–æ–≤—å –í–æ—Å–∫—Ä–µ—Å–µ–Ω–∏—è –•—Ä–∏—Å—Ç–æ–≤–∞",
                    "–ú—É–∑–µ–π –¥—Ä–µ–≤–Ω–µ—Ä—É—Å—Å–∫–æ–π —Å–µ–º—å–∏",
                    "–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –∏ —Å—É–≤–µ–Ω–∏—Ä–Ω—ã–µ –ª–∞–≤–∫–∏"
                ],
                rating: 4.8,
                reviews: [
                    { author: "–û–ª—å–≥–∞", rating: 5, text: "–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –∫—Ä–∞—Å–∏–≤–æ–µ –º–µ—Å—Ç–æ! –í–æ–∑–¥—É—Ö —á–∏—Å—Ç—ã–π, –≤–∏–¥—ã –∑–∞–≤–æ—Ä–∞–∂–∏–≤–∞—é—â–∏–µ." },
                    { author: "–°–µ—Ä–≥–µ–π", rating: 5, text: "–ò–¥–µ–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –æ—Ç–¥—ã—Ö–∞ –æ—Ç –≥–æ—Ä–æ–¥—Å–∫–æ–π —Å—É–µ—Ç—ã. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–µ—Ä–Ω—É—Å—å!" },
                    { author: "–¢–∞—Ç—å—è–Ω–∞", rating: 5, text: "–°–∞–º—ã–π –∂–∏–≤–æ–ø–∏—Å–Ω—ã–π –≥–æ—Ä–æ–¥ –Ω–∞ –í–æ–ª–≥–µ! –ú—É–∑–µ–∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã." }
                ]
            },
            "–ü–∞–ª–µ—Ö": {
                icon: "üñåÔ∏è",
                description: "–í—Å–µ–º–∏—Ä–Ω–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ü–µ–Ω—Ç—Ä –ª–∞–∫–æ–≤–æ–π –º–∏–Ω–∏–∞—Ç—é—Ä—ã –∏ –∏–∫–æ–Ω–æ–ø–∏—Å–∏, –≥–æ—Ä–æ–¥-–º—É–∑–µ–π –ø–æ–¥ –æ—Ç–∫—Ä—ã—Ç—ã–º –Ω–µ–±–æ–º. –ù–∞—Å–µ–ª–µ–Ω–∏–µ: ~5,000 —á–µ–ª–æ–≤–µ–∫.",
                images: [
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80",
                    "https://images.unsplash.com/photo-1548013146-72479768bada?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&h=400&q=80"
                ],
                attractions: [
                    "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –º—É–∑–µ–π –ø–∞–ª–µ—Ö—Å–∫–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞",
                    "–î–æ–º-–º—É–∑–µ–π –ü.–î. –ö–æ—Ä–∏–Ω–∞",
                    "–ö—Ä–µ—Å—Ç–æ–≤–æ–∑–¥–≤–∏–∂–µ–Ω—Å–∫–∏–π —Ö—Ä–∞–º",
                    "–ú–∞—Å—Ç–µ—Ä—Å–∫–∏–µ –ø–∞–ª–µ—Ö—Å–∫–∏—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤",
                    "–°—É–≤–µ–Ω–∏—Ä–Ω—ã–µ –ª–∞–≤–∫–∏ —Å –∞–≤—Ç–æ—Ä—Å–∫–∏–º–∏ —Ä–∞–±–æ—Ç–∞–º–∏",
                    "–ú—É–∑–µ–π –∏–∫–æ–Ω—ã",
                    "–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —É—á–∏–ª–∏—â–µ",
                    "–ì–∞–ª–µ—Ä–µ—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–ª–µ—Ö—Å–∫–æ–π –º–∏–Ω–∏–∞—Ç—é—Ä—ã"
                ],
                rating: 4.6,
                reviews: [
                    { author: "–¢–∞—Ç—å—è–Ω–∞", rating: 5, text: "–í–æ–ª—à–µ–±–Ω–æ–µ –º–µ—Å—Ç–æ! –ò—Å–∫—É—Å—Å—Ç–≤–æ –ø–∞–ª–µ—Ö—Å–∫–æ–π –º–∏–Ω–∏–∞—Ç—é—Ä—ã –ø–æ—Ä–∞–∂–∞–µ—Ç." },
                    { author: "–í–∏–∫—Ç–æ—Ä", rating: 4, text: "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥ —Å –±–æ–≥–∞—Ç—ã–º–∏ —Ç—Ä–∞–¥–∏—Ü–∏—è–º–∏. –ú—É–∑–µ–π - —Å–æ–∫—Ä–æ–≤–∏—â–Ω–∏—Ü–∞ —Ä—É—Å—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã." },
                    { author: "–ï–ª–µ–Ω–∞", rating: 5, text: "–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —Ç–∞–ª–∞–Ω—Ç–∞! –í–∏–∑–∏—Ç –≤ –º–∞—Å—Ç–µ—Ä—Å–∫–∏–µ –æ—Å—Ç–∞–≤–∏–ª –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è." }
                ]
            }
        };

        // ===== –ü–ï–†–ï–ú–ï–ù–ù–´–ï =====
        let chatHistory = [];
        let currentCityModal = '';
        let isMobileMenuOpen = false;

        // ===== –£–¢–ò–õ–ò–¢–´ =====
        function getHoursEnding(hours) {
            if (hours % 10 === 1 && hours % 100 !== 11) return '—á–∞—Å';
            if (hours % 10 >= 2 && hours % 10 <= 4 && (hours % 100 < 10 || hours % 100 >= 20)) return '—á–∞—Å–∞';
            return '—á–∞—Å–æ–≤';
        }

        function renderStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            let stars = '';
            for (let i = 0; i < 5; i++) {
                if (i < fullStars) stars += '‚òÖ';
                else if (i === fullStars && hasHalfStar) stars += '‚òÖ';
                else stars += '‚òÜ';
            }
            return stars;
        }

        function autoResizeTextarea(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = Math.min(textarea.scrollHeight, 150) + 'px';
        }

        function toggleMobileMenu() {
            const nav = document.getElementById('mobileNav');
            const toggleBtn = document.querySelector('.mobile-menu-toggle');
            
            isMobileMenuOpen = !isMobileMenuOpen;
            
            if (isMobileMenuOpen) {
                nav.classList.add('active');
                toggleBtn.innerHTML = '<span>‚úï</span>';
                document.body.classList.add('no-scroll');
            } else {
                nav.classList.remove('active');
                toggleBtn.innerHTML = '<span>‚ò∞</span>';
                document.body.classList.remove('no-scroll');
            }
        }

        function showStatusMessage(message, type = 'info') {
            const statusElement = document.createElement('div');
            statusElement.className = `status-message status-${type}`;
            statusElement.textContent = message;
            
            const chatMessages = document.getElementById('chatMessages');
            if (chatMessages) {
                chatMessages.appendChild(statusElement);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                setTimeout(() => {
                    statusElement.remove();
                }, 5000);
            }
        }

        // ===== –ù–ê–í–ò–ì–ê–¶–ò–Ø =====
        function showScreen(screenId) {
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
            if (isMobileMenuOpen) {
                toggleMobileMenu();
            }

            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });

            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.add('active');
            }

            // –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active');
            });

            const activeButton = Array.from(document.querySelectorAll('.nav-button')).find(btn =>
                btn.getAttribute('onclick')?.includes(`'${screenId}'`)
            );

            if (activeButton) {
                activeButton.classList.add('active');
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–æ–≤
            switch(screenId) {
                case 'cities':
                    renderCities();
                    break;
                case 'ai-guide':
                    setTimeout(() => {
                        const chatInput = document.getElementById('chatInput');
                        if (chatInput) {
                            chatInput.focus();
                        }
                    }, 100);
                    break;
                case 'generator':
                    updateTimeValue(3);
                    break;
            }
        }

        // ===== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ó–ù–ê–ß–ï–ù–ò–Ø –í–†–ï–ú–ï–ù–ò =====
        function updateTimeValue(value) {
            const hours = parseInt(value);
            document.getElementById('timeValue').textContent = `${hours} ${getHoursEnding(hours)}`;
        }

        // ===== –û–¢–†–ò–°–û–í–ö–ê –ì–û–†–û–î–û–í =====
        function renderCities() {
            const grid = document.getElementById('citiesGrid');
            if (!grid) return;

            grid.innerHTML = '';

            Object.entries(CITIES_DATA).forEach(([cityName, cityData], index) => {
                const cityCard = document.createElement('div');
                cityCard.className = 'city-card';
                cityCard.style.animationDelay = `${index * 0.1}s`;

                const imagesHTML = cityData.images.map((imgSrc, i) => `
                    <img src="${imgSrc}"
                         alt="${cityName} - —Ñ–æ—Ç–æ ${i + 1}"
                         class="city-image"
                         onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"300\" height=\"200\"><rect width=\"300\" height=\"200\" fill=\"%231C4D8D\"/><text x=\"150\" y=\"100\" font-family=\"Arial\" font-size=\"20\" fill=\"white\" text-anchor=\"middle\" dominant-baseline=\"middle\">${cityName}</text></svg>'">
                `).join('');

                cityCard.innerHTML = `
                    <div class="city-header">
                        <div>
                            <div class="city-name">${cityName}</div>
                            <div class="city-rating">
                                <span class="rating-stars">${renderStars(cityData.rating)}</span>
                                <span>${cityData.rating.toFixed(1)}</span>
                            </div>
                        </div>
                        <div class="city-icon">${cityData.icon}</div>
                    </div>

                    <div class="city-description">${cityData.description}</div>

                    <div class="city-images">${imagesHTML}</div>

                    <div class="city-actions">
                        <button class="button" onclick="openCityModal('${cityName}')">
                            <span>üìù</span> –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </button>
                        <button class="button button-primary" onclick="generateCityRoute('${cityName}')">
                            <span>üó∫Ô∏è</span> –ú–∞—Ä—à—Ä—É—Ç
                        </button>
                    </div>
                `;

                grid.appendChild(cityCard);
            });
        }

        // ===== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ì–û–†–û–î–ê =====
        function openCityModal(cityName) {
            const cityData = CITIES_DATA[cityName];
            if (!cityData) return;

            currentCityModal = cityName;

            const modal = document.getElementById('modal');
            const modalContent = document.getElementById('modalContent');

            modalContent.innerHTML = `
                <h2 style="color: var(--text-light); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem;">
                    ${cityData.icon} ${cityName}
                </h2>

                <div class="city-rating" style="margin: 1.25rem 0; font-size: 1.125rem;">
                    <span class="rating-stars">${renderStars(cityData.rating)}</span>
                    <span>${cityData.rating.toFixed(1)} –∏–∑ 5 (${cityData.reviews.length} –æ—Ç–∑—ã–≤–æ–≤)</span>
                </div>

                <div style="margin: 2rem 0;">
                    <h3 style="color: var(--primary-accent); margin-bottom: 1rem; font-size: 1.25rem;">üèõÔ∏è –î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:</h3>
                    <div style="display: grid; grid-template-columns: 1fr; gap: 0.75rem;">
                        ${cityData.attractions.map(attr => `
                            <div style="background: rgba(189, 232, 245, 0.1); padding: 1rem; border-radius: 12px; border: 1px solid var(--primary-accent);">
                                ‚Ä¢ ${attr}
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div style="margin: 2rem 0;">
                    <h3 style="color: var(--primary-accent); margin-bottom: 1rem; font-size: 1.25rem;">‚≠ê –û—Ç–∑—ã–≤—ã –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π:</h3>
                    ${cityData.reviews.map(review => `
                        <div style="background: rgba(28, 77, 141, 0.3); padding: 1rem; border-radius: 12px; margin-bottom: 1rem; border: 1px solid var(--primary-accent);">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <strong style="color: var(--primary-accent);">üë§ ${review.author}</strong>
                                <span class="rating-stars">${renderStars(review.rating)}</span>
                            </div>
                            <div style="color: var(--text-muted); font-size: 0.95rem;">${review.text}</div>
                        </div>
                    `).join('')}
                </div>

                <div style="display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap;">
                    <button class="button" onclick="generateCityRoute('${cityName}'); closeModal();" style="flex: 1; min-width: 140px;">
                        <span>üó∫Ô∏è</span> –°–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç
                    </button>
                    <button class="button button-primary" onclick="showScreen('ai-guide'); closeModal(); setTimeout(() => document.getElementById('chatInput').value = '–†–∞—Å—Å–∫–∞–∂–∏ –æ –≥–æ—Ä–æ–¥–µ ${cityName}', 100);" style="flex: 1; min-width: 140px;">
                        <span>ü§ñ</span> –°–ø—Ä–æ—Å–∏—Ç—å AI
                    </button>
                </div>
            `;

            modal.style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
            currentCityModal = '';
        }

        // ===== –ì–ï–ù–ï–†–ê–¶–ò–Ø –ú–ê–†–®–†–£–¢–ê –î–õ–Ø –ì–û–†–û–î–ê =====
        function generateCityRoute(cityName) {
            showScreen('generator');

            const citySelect = document.getElementById('city');
            if (citySelect) {
                citySelect.value = cityName;
            }

            setTimeout(() => {
                const form = document.getElementById('routeForm');
                if (form) {
                    form.dispatchEvent(new Event('submit'));
                }
            }, 100);
        }

        // ===== –ì–ï–ù–ï–†–ê–¢–û–† –ú–ê–†–®–†–£–¢–û–í =====
        document.getElementById('routeForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const city = document.getElementById('city').value;
            const interests = document.getElementById('interests').value;
            const time = parseInt(document.getElementById('time').value);
            const budget = document.getElementById('budget').value;

            const cityData = CITIES_DATA[city];
            if (!cityData) {
                showStatusMessage('–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥', 'error');
                return;
            }

            // –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π
            const attractionsCount = Math.min(Math.floor(time / 0.5), 8);
            const selectedAttractions = cityData.attractions.slice(0, attractionsCount);

            const interestsText = {
                history: "üèõÔ∏è –ò—Å—Ç–æ—Ä–∏—è –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞",
                nature: "üå≥ –ü—Ä–∏—Ä–æ–¥–∞ –∏ –ø–∞—Ä–∫–∏",
                culture: "üé≠ –ö—É–ª—å—Ç—É—Ä–∞ –∏ –º—É–∑–µ–∏",
                religion: "‚õ™ –•—Ä–∞–º—ã –∏ –º–æ–Ω–∞—Å—Ç—ã—Ä–∏",
                gastronomy: "üçΩÔ∏è –ï–¥–∞ –∏ –∫–∞—Ñ–µ",
                all: "üåü –í—Å—ë –≤–º–µ—Å—Ç–µ"
            };

            const budgetText = {
                free: "üéØ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ",
                low: "üí∞ –î–æ 500‚ÇΩ",
                medium: "üíµ 500-2000‚ÇΩ",
                high: "üíé –ë–æ–ª–µ–µ 2000‚ÇΩ"
            };

            const routeContent = `
                <div class="route-header">
                    <div class="route-info-grid">
                        <div class="route-info-item">
                            <span class="route-info-label">üìç –ì–æ—Ä–æ–¥</span>
                            <span class="route-info-value">${city}</span>
                        </div>
                        <div class="route-info-item">
                            <span class="route-info-label">üéØ –ò–Ω—Ç–µ—Ä–µ—Å—ã</span>
                            <span class="route-info-value">${interestsText[interests] || interests}</span>
                        </div>
                        <div class="route-info-item">
                            <span class="route-info-label">‚è±Ô∏è –í—Ä–µ–º—è</span>
                            <span class="route-info-value">${time} ${getHoursEnding(time)}</span>
                        </div>
                        <div class="route-info-item">
                            <span class="route-info-label">üí∞ –ë—é–¥–∂–µ—Ç</span>
                            <span class="route-info-value">${budgetText[budget] || budget}</span>
                        </div>
                    </div>
                </div>

                <h3 style="color: var(--primary-accent); margin-bottom: 1.25rem; font-size: 1.25rem;">üó∫Ô∏è –ú–∞—Ä—à—Ä—É—Ç –æ—Å–º–æ—Ç—Ä–∞:</h3>

                <div class="route-points">
                    ${selectedAttractions.map((attr, index) => `
                        <div class="route-point">
                            <div class="route-point-number">${index + 1}</div>
                            <div class="route-point-content">
                                <div class="route-point-title">${attr}</div>
                                <div class="route-point-details">
                                    <span>‚è±Ô∏è ~${Math.floor(time/selectedAttractions.length*60)} –º–∏–Ω</span>
                                    <span>${budget === 'free' ? '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ' : '~' + (budget === 'low' ? '100-300‚ÇΩ' : budget === 'medium' ? '300-800‚ÇΩ' : '800-1500‚ÇΩ')}</span>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>

                <div class="route-tips">
                    <h4 class="route-tips-title"><span>üí°</span> –°–æ–≤–µ—Ç—ã –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞</h4>
                    <ul class="route-tips-list">
                        <li class="route-tip-item">–ù–∞—á–Ω–∏—Ç–µ –º–∞—Ä—à—Ä—É—Ç –≤ 9-10 —É—Ç—Ä–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ç–æ–ª–ø—ã</li>
                        <li class="route-tip-item">–ù–æ—Å–∏—Ç–µ —É–¥–æ–±–Ω—É—é –æ–±—É–≤—å - –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –º–Ω–æ–≥–æ —Ö–æ–¥–∏—Ç—å</li>
                        <li class="route-tip-item">–í–æ–∑—å–º–∏—Ç–µ —Å —Å–æ–±–æ–π –≤–æ–¥—É –∏ –ª–µ–≥–∫–∏–π –ø–µ—Ä–µ–∫—É—Å</li>
                        <li class="route-tip-item">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –º—É–∑–µ–µ–≤ –∏ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π</li>
                        <li class="route-tip-item">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Å—Ç–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –º–µ–∂–¥—É —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏</li>
                        <li class="route-tip-item">–°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–µ—Ä—ã–≤ –Ω–∞ –æ–±–µ–¥ –≤ –º–µ—Å—Ç–Ω—ã—Ö –∫–∞—Ñ–µ</li>
                    </ul>
                </div>

                <div class="route-actions">
                    <button class="button" onclick="saveRoute('${city}')" style="flex: 1;">
                        <span>üíæ</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç
                    </button>
                    <button class="button button-primary" onclick="askAboutRoute('${city}')" style="flex: 1;">
                        <span>ü§ñ</span> –°–ø—Ä–æ—Å–∏—Ç—å AI
                    </button>
                </div>
            `;

            const routeResult = document.getElementById('routeResult');
            if (routeResult) {
                routeResult.innerHTML = routeContent;
                routeResult.classList.add('show');

                // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
                setTimeout(() => {
                    routeResult.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 300);
            }
        });

        function askAboutRoute(cityName) {
            showScreen('ai-guide');
            setTimeout(() => {
                const chatInput = document.getElementById('chatInput');
                if (chatInput) {
                    chatInput.value = `–†–∞—Å—Å–∫–∞–∂–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ –º–∞—Ä—à—Ä—É—Ç–µ –ø–æ ${cityName}`;
                    chatInput.focus();
                    autoResizeTextarea(chatInput);
                }
            }, 100);
        }

        function saveRoute(cityName) {
            const routeContent = document.querySelector('#routeResult .route-header')?.innerText || '';
            const routeDetails = document.querySelector('#routeResult .route-points')?.innerText || '';

            const fullContent = `–ú–ê–†–®–†–£–¢ –ü–û ${cityName.toUpperCase()}\n\n${routeContent}\n\n${routeDetails}`;

            const blob = new Blob([fullContent], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `–º–∞—Ä—à—Ä—É—Ç-${cityName}-${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showStatusMessage('–ú–∞—Ä—à—Ä—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ñ–∞–π–ª!', 'success');
        }

        // ===== AI-–ì–ò–î –° OPENROUTER API =====
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            const sendButton = document.getElementById('sendButton');

            if (!message) {
                input.focus();
                return;
            }

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addChatMessage(message, 'user');
            input.value = '';
            sendButton.disabled = true;
            input.disabled = true;
            autoResizeTextarea(input);

            // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–±–æ—Ä–∞
            const typingIndicator = addTypingIndicator();

            try {
                // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
                const systemMessage = {
                    role: "system",
                    content: `–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≥–∏–¥-—ç–∫—Å–∫—É—Ä—Å–æ–≤–æ–¥ –ø–æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –†–æ—Å—Å–∏–∏.
                    –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. –ë—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º, –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º –∏ –ø–æ–ª–µ–∑–Ω—ã–º.

                    –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–æ—Ä–æ–¥–∞—Ö –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏:

                    ${Object.entries(CITIES_DATA).map(([city, data]) =>
                        `–ì–æ—Ä–æ–¥: ${city}
                        –û–ø–∏—Å–∞–Ω–∏–µ: ${data.description}
                        –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: ${data.attractions.slice(0, 5).join(', ')}
                        –†–µ–π—Ç–∏–Ω–≥: ${data.rating} –∏–∑ 5
                        ---`
                    ).join('\n\n')}

                    –ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–≤–µ—Ç–∞:
                    1. –û—Ç–≤–µ—á–∞–π –ø–æ–¥—Ä–æ–±–Ω–æ, –Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ
                    2. –ü—Ä–µ–¥–ª–∞–≥–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                    3. –£—á–∏—Ç—ã–≤–∞–π –≤—Ä–µ–º—è –≥–æ–¥–∞ –∏ –ø–æ–≥–æ–¥—É –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö
                    4. –£–ø–æ–º–∏–Ω–∞–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã, —Ü–µ–Ω—ã, –∫–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è)
                    5. –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –Ω–µ —Å–≤—è–∑–∞–Ω —Å –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç—å—é, –≤–µ–∂–ª–∏–≤–æ –ø—Ä–µ–¥–ª–æ–∂–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–µ–º–µ —Ä–µ–≥–∏–æ–Ω–∞
                    6. –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
                    7. –§–æ—Ä–º–∞—Ç–∏—Ä—É–π –æ—Ç–≤–µ—Ç —Å –ø–æ–º–æ—â—å—é –º–∞—Ä–∫–µ—Ä–æ–≤ –∏ –∞–±–∑–∞—Ü–µ–≤
                    8. –ë—É–¥—å –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–º –∏ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º`
                };

                // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è API
                const messages = [
                    systemMessage,
                    ...chatHistory.slice(-6), // –ë–µ—Ä–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
                    { role: "user", content: message }
                ];

                // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
                const requestBody = {
                    model: API_CONFIG.MODEL,
                    messages: messages,
                    max_tokens: 2000,
                    temperature: 0.8
                };

                // –î–æ–±–∞–≤–ª—è–µ–º reasoning, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ
                if (API_CONFIG.REASONING) {
                    requestBody.reasoning = { enabled: true };
                }

                // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ OpenRouter API
                const response = await fetch(API_CONFIG.API_URL, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${API_CONFIG.OPENROUTER_API_KEY}`,
                        'Content-Type': 'application/json',
                        'HTTP-Referer': window.location.origin,
                        'X-Title': 'MISHAGAY'
                    },
                    body: JSON.stringify(requestBody)
                });

                // –£–¥–∞–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –Ω–∞–±–æ—Ä–∞
                removeTypingIndicator(typingIndicator);

                if (response.ok) {
                    const result = await response.json();
                    const aiResponse = result.choices[0]?.message?.content || '–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç.';

                    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ AI –≤ —á–∞—Ç
                    addChatMessage(aiResponse, 'ai');

                    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
                    chatHistory.push({ role: "user", content: message });
                    chatHistory.push({ 
                        role: "assistant", 
                        content: aiResponse
                    });

                    // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
                    if (chatHistory.length > 20) {
                        chatHistory = chatHistory.slice(-20);
                    }
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ç–æ—Ä–∏—é –≤ localStorage
                    localStorage.setItem('gidik_chat_history', JSON.stringify(chatHistory));
                } else {
                    const errorText = await response.text();
                    console.error('API Error:', response.status, errorText);
                    
                    let errorMessage = `–ò–∑–≤–∏–Ω–∏—Ç–µ, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ AI. –ö–æ–¥ –æ—à–∏–±–∫–∏: ${response.status}`;
                    
                    try {
                        const errorJson = JSON.parse(errorText);
                        if (errorJson.error?.message) {
                            errorMessage += `: ${errorJson.error.message}`;
                        }
                    } catch (e) {
                        // –ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å JSON
                    }
                    
                    addChatMessage(errorMessage, 'ai');
                }
            } catch (error) {
                removeTypingIndicator(typingIndicator);
                addChatMessage(`–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${error.message}. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.`, 'ai');
            } finally {
                sendButton.disabled = false;
                input.disabled = false;
                input.focus();
            }
        }

        function addChatMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            if (!messagesContainer) return;

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;

            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
            const formattedText = text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/`(.*?)`/g, '<code>$1</code>')
                .replace(/\n\n/g, '<br><br>')
                .replace(/\n/g, '<br>');

            messageDiv.innerHTML = formattedText;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function addTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            if (!messagesContainer) return null;

            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <span>AI –¥—É–º–∞–µ—Ç</span>
                <span class="typing-dot"></span>
                <span class="typing-dot"></span>
                <span class="typing-dot"></span>
            `;
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            return typingDiv;
        }

        function removeTypingIndicator(typingElement) {
            if (typingElement && typingElement.parentNode) {
                typingElement.parentNode.removeChild(typingElement);
            }
        }

        function handleChatInputKeydown(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        }

        // ===== –£–ü–†–ê–í–õ–ï–ù–ò–ï –î–ê–ù–ù–´–ú–ò =====
        function clearChatHistory() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞?')) {
                chatHistory = [];
                localStorage.removeItem('gidik_chat_history');
                
                // –û—á–∏—â–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–∞—Ç–∞
                const chatMessages = document.getElementById('chatMessages');
                if (chatMessages) {
                    chatMessages.innerHTML = `
                        <div class="message ai-message">
                            <strong>üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –≤–∞—à AI-–≥–∏–¥ –ø–æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.</strong>
                            <br><br>
                            –Ø –ø–æ–º–æ–≥—É –≤–∞–º —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ –≥–æ—Ä–æ–¥–∞—Ö, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è—Ö, –º–∞—Ä—à—Ä—É—Ç–∞—Ö –∏ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–≥–∏–æ–Ω–∞.
                            –ó–∞–¥–∞–π—Ç–µ –º–Ω–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏!
                        </div>
                    `;
                }
                
                showStatusMessage('–ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ –æ—á–∏—â–µ–Ω–∞', 'success');
            }
        }

        function clearLocalStorage() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ?')) {
                localStorage.removeItem('gidik_chat_history');
                chatHistory = [];
                showStatusMessage('–õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã', 'success');
            }
        }

        function resetApp() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫ –Ω–∞—á–∞–ª—å–Ω—ã–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º?')) {
                localStorage.clear();
                chatHistory = [];

                // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
                document.getElementById('routeForm')?.reset();
                const chatInput = document.getElementById('chatInput');
                if (chatInput) chatInput.value = '';
                
                const chatMessages = document.getElementById('chatMessages');
                if (chatMessages) {
                    chatMessages.innerHTML = `
                        <div class="message ai-message">
                            <strong>üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –≤–∞—à AI-–≥–∏–¥ –ø–æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.</strong>
                            <br><br>
                            –Ø –ø–æ–º–æ–≥—É –≤–∞–º —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ –≥–æ—Ä–æ–¥–∞—Ö, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è—Ö, –º–∞—Ä—à—Ä—É—Ç–∞—Ö –∏ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–≥–∏–æ–Ω–∞.
                            –ó–∞–¥–∞–π—Ç–µ –º–Ω–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –æ –ò–≤–∞–Ω–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏!
                        </div>
                    `;
                }

                showStatusMessage('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–±—Ä–æ—à–µ–Ω–æ –∫ –Ω–∞—á–∞–ª—å–Ω—ã–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º', 'success');
                showScreen('home');
            }
        }

        // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
        document.addEventListener('DOMContentLoaded', async function() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞
            const savedChatHistory = localStorage.getItem('gidik_chat_history');
            if (savedChatHistory) {
                try {
                    chatHistory = JSON.parse(savedChatHistory);
                } catch (error) {
                    console.error('Error loading chat history:', error);
                    chatHistory = [];
                }
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            renderCities();
            updateTimeValue(3);

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            document.getElementById('modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });

            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–∞–π–¥–µ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏
            const timeSlider = document.getElementById('time');
            if (timeSlider) {
                timeSlider.addEventListener('input', function() {
                    updateTimeValue(this.value);
                });
            }

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            document.addEventListener('click', function(e) {
                const nav = document.getElementById('mobileNav');
                const toggleBtn = document.querySelector('.mobile-menu-toggle');
                
                if (isMobileMenuOpen && 
                    !nav.contains(e.target) && 
                    !toggleBtn.contains(e.target)) {
                    toggleMobileMenu();
                }
            });

            console.log('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–ì–∏–¥–∏–∫" —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ');
            console.log('–ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –º–æ–¥–µ–ª—å:', API_CONFIG.MODEL);
        });
    </script>
<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>


</body></html>